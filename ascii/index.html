<!DOCTYPE html>
<html>

<head>
    <title></title>
</head>

<body>
    <div id="ascii-container" style="
        background: #000; 
        font-family: monospace; 
        font-size: 7px; 
        line-height: 0.7; 
        letter-spacing: -1px; 
        white-space: pre; 
        text-align: center; 
        display: inline-block; 
        padding: 30px;">
    </div>


    <canvas id="canvas" style="display: none;"></canvas>

    <script>
        const imagePath = 'photo.jpg';
        const text = "ILOVEYOU";

        const img = new Image();
        img.src = imagePath;

        img.onload = function () {
            const canvas = document.getElementById('canvas');
            const ctx = canvas.getContext('2d');
            const asciiContainer = document.getElementById('ascii-container');


            canvas.width = img.width;
            canvas.height = img.height;


            ctx.drawImage(img, 0, 0);


            const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);
            const data = imageData.data;
            const width = canvas.width;
            const height = canvas.height;

            let htmlOutput = "";
            let charIndex = 0;


            for (let y = 0; y < height; y += 7) {
                for (let x = 0; x < width; x += 3) {
                    const offset = (y * width + x) * 4;
                    const r = data[offset];
                    const g = data[offset + 1];
                    const b = data[offset + 2];


                    const brightness = (r * 0.299 + g * 0.587 + b * 0.114);


                    if (brightness < 230) {
                        const grayLevel = Math.floor(brightness);

                        const finalGray = Math.max(80, grayLevel);

                        const char = text[charIndex % text.length];
                        htmlOutput += `<span style='color: rgb(${finalGray}, ${finalGray}, ${finalGray});'>${char}</span>`;
                        charIndex++;
                    } else {
                        htmlOutput += " ";
                    }
                }
                htmlOutput += "\n";
            }

            asciiContainer.innerHTML = htmlOutput;
        };

        img.onerror = function () {
            document.getElementById('ascii-container').innerText = "Image failed to load.";
        };
    </script>
</body>

</html>